# Story 2.1.1: Express Mode Archetype Selection

## Status: Approved

## Epic: 2 - AI Copilot Onboarding & Personalization Foundation MVP

## Story

- As a new user in a social situation (like a draft party), I want a quick archetype selection option so that I can complete onboarding efficiently without appearing inexperienced in front of friends.

## Dependencies

- **Prerequisite:** Story 2.1 (Core Conversational Archetype Selection) must be completed
- **Integration:** Extends Story 2.1's conversation flow with express mode option

## Acceptance Criteria (ACs)

1. After the AI Copilot greeting, users are presented with a mode selection choice: "Quick Setup" or "Let's Chat"
2. When "Quick Setup" is selected, the AI presents all four archetypes in a concise, streamlined format
3. The express mode conversation is optimized for speed while maintaining clarity about each archetype
4. Users can select their archetype using the same response methods (name, number, description) as the full mode
5. Express mode includes brief confirmation and immediate completion without extended conversation
6. The selected archetype is persisted to `UserProfile.selectedArchetype` via the same API as Story 2.1
7. Express mode transitions appropriately: Eager Learner users proceed to Story 2.2, others complete onboarding
8. Users can switch from express mode to full conversation mode if they change their mind
9. The express mode maintains the same error handling and response processing as the core conversation

## Tasks / Subtasks

- [ ] **Task 1: Mode Selection Design**
    - [ ] Create mode selection conversation scripts (Quick Setup vs Let's Chat)
    - [ ] Design mode selection response processing and routing logic

- [ ] **Task 2: Express Mode Conversation Scripts**
    - [ ] Create streamlined archetype presentation for quick selection
    - [ ] Design concise archetype descriptions optimized for speed
    - [ ] Create brief confirmation messages for express mode selections

- [ ] **Task 3: Express Flow Integration**
    - [ ] Integrate express mode with existing Story 2.1 conversation state management
    - [ ] Implement mode switching logic and conversation routing
    - [ ] Add express mode context tracking

- [ ] **Task 4: Quick Selection Processing**
    - [ ] Extend existing response processing to handle express mode inputs
    - [ ] Implement streamlined confirmation flow for quick selections
    - [ ] Add express mode completion detection

- [ ] **Task 5: Mode Switching Logic**
    - [ ] Allow users to switch from express to full mode during conversation
    - [ ] Implement conversation context preservation during mode switches
    - [ ] Handle mode change requests gracefully

- [ ] **Task 6: Express Mode Transitions**
    - [ ] Implement express mode completion and transition logic
    - [ ] Ensure proper handoff to Story 2.2 for Eager Learner selections
    - [ ] Create express mode completion messaging

- [ ] **Task 7: Error Handling for Express Mode**
    - [ ] Extend existing error handling to cover express mode scenarios
    - [ ] Add express mode specific error recovery patterns
    - [ ] Implement fallback to full mode if express mode fails

- [ ] **Task 8: Testing**
    - [ ] Write unit tests for mode selection and express flow logic
    - [ ] Write integration tests for express mode archetype selection
    - [ ] Write E2E test for complete express mode flow

- [ ] **Task 9: Build and Test Validation**
    - [ ] Build completed successfully with no errors
    - [ ] All tests passing including express mode functionality
    - [ ] Integration with Story 2.1 working properly

- [ ] **Task 10: Story Completion**
    - [ ] All acceptance criteria met and validated
    - [ ] Express mode archetype selection functional
    - [ ] Story marked as Complete following BMAD methodology

## Dev Technical Guidance

- **Frontend:**
    - Extend existing conversation state management from Story 2.1
    - Add mode selection and express flow routing to existing chat integration
    - Reuse existing response processing with express mode optimizations
- **Backend:**
    - Use same API endpoints and data models as Story 2.1
    - No additional backend changes required
- **Conversation Design:**
    - Keep express mode scripts concise but informative
    - Maintain friendly tone while optimizing for speed
    - Ensure express mode feels efficient, not rushed
- **Integration:** Seamless integration with Story 2.1 foundation and Story 2.2 transitions

## Story Progress Notes

### Agent Model Used: `<To be filled by Dev Agent>`

### Completion Notes List

{To be filled by Dev Agent}

### Change Log

| Change                    | Date       | Version | Description                                    | Author     |
| :------------------------ | :--------- | :------ | :---------------------------------------------- | :--------- |
| Created from Story Breakdown | 2025-01-27 | 1.0   | Created focused express mode story from 2.1 breakdown | Curly (PO) |
